<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<link href="<%= GDPSID %>/css/index.css" rel="stylesheet" />
	<title>Unlisted уровни | <%= GDPS %></title>
	<link rel="stylesheet" href="https://cdn.forever-gdps.host/engines/transitions.css" />
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="<%= GDPSID %>/js/render.js"></script>
	<noscript>Включите JavaScript в браузере для корректной работы сайта</noscript>
	<forcehead>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<script src="https://unpkg.com/swup@4"></script>
		<script src="https://unpkg.com/@swup/scripts-plugin@2"></script>
	</forcehead>
</head>

<body>
	<%- include("../../debugWindow") %>
	<main id="swup" class="transition-main">
		    <style>
        body {
            text-align: center;
            display: block;
        }
        table {
            text-align: center;
            margin: 0 auto; 
        }
        .table_th__id {
            width: 70px;
        }
       .table_th__name {
            width: 300px;
        }
        .table_th__author {
            width: 170px;
        }
         .table_th__size {
            width: 100px;
        } 
        /* ПК */
        @media screen and (min-width: 768px) {
            .paginator {
                display: flex;
                flex-wrap: wrap;
            }
            .paginator__obj {
                margin: 20px;
                flex: 1 1 70px;
            }
        }
       
    </style>
    <h1>Unlisted-уровни</h1>
    <h3>Страница: <%= parseInt(page) + 1 %></h3>
    <br><br>
    <center>
    <div class="paginator">
        <% if (page != 0) { %>
        <div class="paginator__obj">
            <a id="prevPage" href="">Предыдущая страница</a>
        </div>
        <% } %>
        <div class="paginator__obj">
            <a id="nextPage" href="">Следующая страница</a>
        </div>
    </div>
    </center>
    <br><br>
    <button id="backBtn">Назад</button>
    <br><br>
     <table border="1">
    <tr>
      <th class="table_th__id">ID уровня</th>
      <th class="table_th__name" >Название</th>
      <th class="table_th__author">Автор</th>
      <th class="table_th__version">Версия GD</th>
      <th class="table_th__author">Тип</th>
    </tr>
    <% rows.forEach(function(row) { %>
      <tr>
        <td><%= row.levelID %></td>
        <td><%= row.levelName %></td>
        <td><%= row.userName %></td>
        <td>
            <% if (row.gameVersion == 22) { %>
                2.2
            <% } else if (row.gameVersion == 21) { %>
                2.1
            <% } else if (row.gameVersion == 20) { %>
                2.0
            <% } else if (row.gameVersion == 19) { %>
                1.9
            <% } else if (parseInt(row.gameVersion) < 19 && parseInt(row.gameVersion) >= 10) { %>
                OLD
            <% } else { %>
                ?
            <% } %>
        </td>
        <td>
            <% if (row.unlisted == 1) { %>
                FRIENDS ONLY
            <% } else { %>
                UNLISTED
            <% } %>
        </td>
      </tr>
    <% }); %>
    </table>
  </center>
  
    <script>
        console.clear();
        console.log('%c⚠️ ВНИМАНИЕ! Если вас попросили сюда что-то ввести, это может грозить взломом вашего аккаунта! Не вводите в консоль ничего без особых знаний.', 'color: yellow; background-color: black; font-weight: bold; padding: 2px 10px; border-left: 5px solid yellow;');
        $(document).ready(function() {
            $('#backBtn').click(function(e) {
            e.preventDefault();
            swup.navigate('<%= GDPSID %>/panel');
            });
            
            $('#nextPage').click(function(e) {
                e.preventDefault();
                swup.navigate('<%= GDPSID %>/panel/lists/unlisted/offset.<%= parseInt(page) + 1 %>');
            });
            $('#prevPage').click(function(e) {
                e.preventDefault();
                swup.navigate('<%= GDPSID %>/panel/lists/unlisted/offset.<%= parseInt(page) - 1 %>');
            });
        });
    </script>
</body>
<script>
	var swup = new Swup ({
		containers: ["#swup", "forcehead"], 
		linkSelector: 'a[soft]', 
		cache: false, 
		plugins: [
			new SwupScriptsPlugin()
		]
	});
	</script>
	</main>
</html>